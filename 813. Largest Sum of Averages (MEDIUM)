class Solution {
    double dp[101][101];
    double topdown(vector<int>&nums,int k,int ind)
    {
        int n=nums.size();
        if(ind == n)
            return 0;
        if(dp[ind][k])
            return dp[ind][k];
        if(k==1)
        {
            double s=0;
            for(int i=ind;i<n;i++)
                s+=nums[i];
            return dp[ind][k]=s/(n-ind);
        }
        
        double a=0,s=0;
        for(int i=ind;i<n;i++)
        {
            s+=nums[i];
            a=max(topdown(nums,k-1,i+1)+(s/(i-ind+1)),a);
        }
        return dp[ind][k]=a;
        
    }
public:
    double largestSumOfAverages(vector<int>& nums, int k) {
        memset(dp,0,sizeof dp);
        return topdown(nums,k,0);
    }
};
