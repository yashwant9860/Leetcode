class Solution {
    vector<int>ans;
void backtrack(string &num,int ind,vector<int>c,int sum,int len,int last,int second_last)
    {
        int n=num.length();
        if(!ans.empty())
            return;
        if(n==ind)
        {
            if(c.size()>=3)
            { ans=c;}
            return ;
        }
    long long a=0,b=(long long)1<<31;
        for(int i=ind;i<n;i++)
        {
            if(len==0)
            {
                if(num[ind]=='0')
                {
                    c.push_back(0);
                    backtrack(num,ind+1,c,sum,len+1,0,0);
                    c.pop_back();
                    break;
                }
                a=num[i]-'0'+a*10;
                if(a>=b)
                    break;
                else
                {
                    c.push_back(a);
                    backtrack(num,i+1,c,sum+a,len+1,a,second_last);
                    c.pop_back();
                }
            }
            else if(len==1)
            {
                if(num[ind]=='0')
                {
                    c.push_back(0);
                    backtrack(num,ind+1,c,sum,len+1,last,0);
                    c.pop_back();
                    break;
                }
                else
                {
                    if(num[ind]=='0')
                {
                    c.push_back(0);
                    backtrack(num,ind+1,c,sum-last,len+1,second_last,0);
                    c.pop_back();
                    break;
                }
                    a=num[i]-'0'+a*10;
                    if(a>=b)
                    break;
                     else
                    {
                        c.push_back(a);
                        backtrack(num,i+1,c,sum+a,len+1,last,a);
                        c.pop_back();
                    }
                }
            }
            else
            {
                a=num[i]-'0'+a*10;
                if(a==sum)
                {
                    c.push_back(sum);
                    backtrack(num,i+1,c,sum-last+a,len+1,second_last,a);
                    c.pop_back();
                }
                else if(a>sum)
                    break;
            }
        }
    }
public:
    vector<int> splitIntoFibonacci(string num) {
        vector<int>c;
        backtrack(num,0,c,0,0,0,0);
        return ans;
    }
};
