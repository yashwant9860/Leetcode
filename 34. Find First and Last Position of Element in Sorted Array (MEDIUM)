class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        int n=nums.size();
        int l=0,r=n-1,mid;
        while(l<=r)
        {
            mid=l+(r-l)/2;
            if(nums[mid]==target)
            {
                vector<int>v;
                int i=0,j=0;
                while( mid+i<n && nums[mid+i]==target )
                {
                    i++;
                }
                v.push_back(mid+i-1);
                while( mid-j>=0&&nums[mid-j]==target)
                {
                    j++;
                }
                v.push_back(mid-j+1);
                reverse(v.begin(),v.end());
                return v;
            }
            else if(nums[mid]<target)
                l=mid+1;
            else
                r=mid-1;
        }
        vector<int>v;
        v.push_back(-1);
        v.push_back(-1);
        return v;
    }
};
