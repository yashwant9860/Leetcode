class Solution {
public:
    int longestArithSeqLength(vector<int>& nums) {
        /*map<pair<int,int>,int>m;
        int n=nums.size(),best=2;
        for(int i=1;i<n;i++)
        {
            for(int j=0;j<i;j++)
            {
                int d=nums[i]-nums[j];
                if(m.find({d,j})!=m.end())
                    m[{d,i}]=m[{d,j}]+1;
                else
                    m[{d,i}]=2;
                best=max(best,m[{d,i}]);
            }
        }
        return best;*/
       int n=nums.size(),best=2;
        vector<vector<int>>dp(n,vector<int>(1600,0));
        for(int i=1;i<n;i++)
        {
            for(int j=0;j<i;j++)
            {
                int d=nums[i]-nums[j];
                if(dp[j][d+1000]!=0)
                    dp[i][d+1000]=dp[j][d+1000]+1;
                else
                    dp[i][d+1000]=2;
                best=max(best,dp[i][d+1000]);
            }
        }
        return best;
    }
};
